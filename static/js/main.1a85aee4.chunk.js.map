{"version":3,"sources":["components/Alert.js","actions/index.js","api/index.js","firebase.js","contexts/AuthContext.js","components/Signup.js","components/Login.js","components/Spinner.js","components/Post.js","components/Home.js","components/Searches.js","components/UserPost.js","components/PostForm.js","components/UserPosts.js","components/Navbar.js","components/UpBtn.js","App.js","reducers/reducerUtils.js","reducers/auth.js","reducers/posts.js","reducers/searches.js","reducers/userPosts.js","store/index.js","index.js"],"names":["Alert","message","className","role","actions","Proxy","get","target","prop","undefined","args","type","actionName","replace","toUpperCase","payload","API","axios","create","baseURL","interceptors","request","use","req","localStorage","getItem","headers","Authorization","JSON","parse","token","signIn","data","post","signUp","getSearches","email","getPosts","formData","updatePost","id","patch","app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","REACT_APP_FIREBASE_DATABASE_URL","projectId","storageBucket","REACT_APP_FIREBASE_STORAGE_BUCKET","messagingSenderId","appId","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","fb_signup","password","createUserWithEmailAndPassword","fb_login","signInWithEmailAndPassword","fb_logout","signOut","Provider","connect","dispatch","isShowPassword","setIsShowPassword","error","setError","emailRef","useRef","passwordRef","confirmPasswordRef","history","useHistory","switchPasswordVisibiliity","e","a","preventDefault","current","push","length","onSubmit","htmlFor","aria-describedby","name","ref","onClick","disabled","to","Spinner","state","searches","posts","savePost","console","log","item","isSearch","title","body","findIndex","_id","alert","save","setPosts","setSearches","isLoading","setIsLoading","fetch","then","response","json","apiPosts","res","concat","map","userPosts","deleteUserPost","setPost","handleDelete","delete","saveUserPost","updateUserPost","userPost","titleRef","bodyRef","handleSubmit","newPost","style","height","setUserPosts","signout","logout","color","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","aria-current","UpBtn","$","require","window","addEventListener","pageYOffset","show","hide","scrollTo","top","behavior","App","exact","path","component","Signup","Login","Home","Searches","UserPosts","reducersHandlers","action","handlers","handler","toLowerCase","v","initialState","authData","setItem","stringify","clear","reducer","produce","filter","combineReducers","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a85aee4.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Alert = ({ message }) => {\r\n  return (\r\n    <div className=\"alert alert-danger\" role=\"alert\">\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","function convertActionName(actionName) {\r\n  return actionName.replace(/([A-Z])/g, \"_$1\").toUpperCase();\r\n}\r\n\r\nconst actions = new Proxy(\r\n  {},\r\n  {\r\n    get: function (target, prop) {\r\n      if (target[prop] === undefined) {\r\n        return function (args) {\r\n          return { type: convertActionName(prop), payload: args };\r\n        };\r\n      } else return target[prop];\r\n    },\r\n  }\r\n);\r\n\r\nexport default actions;\r\n","import axios from \"axios\";\r\n\r\nconst API = axios.create({ baseURL: \"http://localhost:4000\" });\r\n\r\nAPI.interceptors.request.use((req) => {\r\n  if (localStorage.getItem(\"profile\")) {\r\n    req.headers.Authorization = `Bearer ${\r\n      JSON.parse(localStorage.getItem(\"profile\")).token\r\n    }`;\r\n  }\r\n\r\n  return req;\r\n});\r\n\r\nexport const signIn = (data) => API.post(\"/user/signIn\", data);\r\nexport const signUp = (data) => API.post(\"/user/signUp\", data);\r\n\r\nexport const savePost = (data) => API.post(\"/user/savePost\", data);\r\nexport const getSearches = (email) => API.get(`/user/getSearches/${email}`);\r\n\r\nexport const getPosts = (email) => API.get(`/post/getPosts/${email}`);\r\nexport const post = (email, formData) =>\r\n  API.post(`/post/post/${email}`, formData);\r\nexport const updatePost = (email, id, formData) =>\r\n  API.patch(`/post/updatePost/${email}/${id}`, formData);\r\nexport const deletePost = (email, id) => API.delete(`/post/deletePost/${email}/${id}`);\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nconst app = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n});\r\n\r\nexport const auth = app.auth();\r\nexport default app;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { auth } from \"../firebase\";\r\n\r\nconst AuthContext = React.createContext();\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [currentUser, setCurrentUser] = useState();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  function fb_signup(email, password) {\r\n    return auth.createUserWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  function fb_login(email, password) {\r\n    return auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  function fb_logout() {\r\n    return auth.signOut();\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged((user) => {\r\n      setCurrentUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, []);\r\n\r\n  const value = {\r\n    currentUser,\r\n    fb_signup,\r\n    fb_login,\r\n    fb_logout,\r\n  };\r\n\r\n  if (loading) return null;\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\nimport { BiHide } from \"react-icons/bi\";\r\nimport { GrView } from \"react-icons/gr\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Alert from \"./Alert\";\r\n\r\nimport actions from \"../actions\";\r\nimport { signUp } from \"../api\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nconst Signup = ({ auth }) => {\r\n  const [isShowPassword, setIsShowPassword] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const emailRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n  const confirmPasswordRef = useRef(null);\r\n\r\n  const { fb_signup } = useAuth();\r\n\r\n  const history = useHistory();\r\n\r\n  const switchPasswordVisibiliity = () => {\r\n    setIsShowPassword(!isShowPassword);\r\n  };\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (passwordRef.current.value !== confirmPasswordRef.current.value) {\r\n      return setError(\"Passwords do not match\");\r\n    }\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await fb_signup(emailRef.current.value, passwordRef.current.value);\r\n      const { data } = await signUp({\r\n        email: emailRef.current.value,\r\n        password: passwordRef.current.value,\r\n      });\r\n      auth(data);\r\n      setLoading(false);\r\n      history.push(\"/home\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n      if (passwordRef.current.value.length < 6)\r\n        setError(\"Password must contain at least 6 characters\");\r\n      else setError(\"Faild to create an account\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n        <h3 className=\"log-form-header\">Sign up</h3>\r\n        {error && <Alert message={error} />}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            name=\"email\"\r\n            ref={emailRef}\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <div className=\"input-container\">\r\n            <input\r\n              type={isShowPassword ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              name=\"password\"\r\n              ref={passwordRef}\r\n            />\r\n            {isShowPassword ? (\r\n              <GrView\r\n                onClick={switchPasswordVisibiliity}\r\n                className=\"password-visibillity\"\r\n              />\r\n            ) : (\r\n              <BiHide\r\n                onClick={switchPasswordVisibiliity}\r\n                className=\"password-visibillity\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword2\" className=\"form-label\">\r\n            Confirm Password\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputPassword2\"\r\n            name=\"confirmPassword\"\r\n            ref={confirmPasswordRef}\r\n          />\r\n        </div>\r\n\r\n        <button className=\"btn theme-color-btn\" disabled={loading}>\r\n          Sign Up\r\n        </button>\r\n        <p className=\"auth-form-change-mode\">\r\n          Already have an account? <Link to=\"/login\">Log in</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    auth: (data) => dispatch(actions.auth(data)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Signup);\r\n","import React, { useRef, useState } from \"react\";\r\nimport { BiHide } from \"react-icons/bi\";\r\nimport { GrView } from \"react-icons/gr\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport actions from \"../actions\";\r\nimport { signIn } from \"../api\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nimport Alert from \"./Alert\";\r\n\r\nconst Login = ({ auth }) => {\r\n  const [isShowPassword, setIsShowPassword] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const emailRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n\r\n  const { fb_login } = useAuth();\r\n\r\n  const history = useHistory();\r\n\r\n  const switchPasswordVisibiliity = () => {\r\n    setIsShowPassword(!isShowPassword);\r\n  };\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    try {\r\n      setError(\"\");\r\n      setLoading(true);\r\n      await fb_login(emailRef.current.value, passwordRef.current.value);\r\n      const { data } = await signIn({\r\n        email: emailRef.current.value,\r\n      });\r\n      auth(data);\r\n      setLoading(false);\r\n      history.push(\"/home\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n      setError(\"Faild to log in\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"auth-form\" onSubmit={handleSubmit}>\r\n        <h3 className=\"log-form-header\">Log in</h3>\r\n        {error && <Alert message={error} />}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            name=\"email\"\r\n            ref={emailRef}\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <div className=\"input-container\">\r\n            <input\r\n              type={isShowPassword ? \"text\" : \"password\"}\r\n              className=\"form-control\"\r\n              id=\"exampleInputPassword1\"\r\n              name=\"password\"\r\n              ref={passwordRef}\r\n            />\r\n            {isShowPassword ? (\r\n              <GrView\r\n                onClick={switchPasswordVisibiliity}\r\n                className=\"password-visibillity\"\r\n              />\r\n            ) : (\r\n              <BiHide\r\n                onClick={switchPasswordVisibiliity}\r\n                className=\"password-visibillity\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <button className=\"btn theme-color-btn\" disabled={loading}>\r\n          Login\r\n        </button>\r\n        <p className=\"auth-form-change-mode\">\r\n          Need an account? <Link to=\"/\">Sign up</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    auth: (data) => dispatch(actions.auth(data)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Login);\r\n","import React from \"react\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner-border spinner\" role=\"status\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport actions from \"../actions\";\r\nimport { savePost } from \"../api\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nconst Post = ({ item, savePost, searches, isSearch = false }) => {\r\n  const { currentUser } = useAuth();\r\n\r\n  const save = (item) => {\r\n    const index = searches.findIndex((post) => {\r\n      if (item.id) {\r\n        if (item.id === post.id) return post;\r\n      } else {\r\n        if (item._id === post._id) return post;\r\n      }\r\n      return null;\r\n    });\r\n    if (index === -1) {\r\n      if (currentUser) savePost(item, currentUser.email);\r\n      alert(\"Post was saved!\");\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"card post\">\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{item.title}</h5>\r\n        <p className=\"card-text card-body\">{item.body}</p>\r\n        {!isSearch && (\r\n          <button\r\n            className=\"btn save-btn theme-color-btn\"\r\n            onClick={() => save(item)}\r\n          >\r\n            Save\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    searches: state.searches.posts,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    savePost: async (post, email) => {\r\n      dispatch(actions.savePost(post, email));\r\n      try {\r\n        await savePost({ post, email });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Post);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Spinner from \"../components/Spinner\";\r\nimport Post from \"./Post\";\r\n\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nimport actions from \"../actions\";\r\nimport { getSearches, getPosts } from \"../api\";\r\n\r\nconst Home = ({ posts, setPosts, getSearches }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const { currentUser } = useAuth();\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://jsonplaceholder.typicode.com/posts\")\r\n      .then((response) => response.json())\r\n      .then((apiPosts) => {\r\n        getPosts(currentUser.email).then((res) => {\r\n          const { data } = res;\r\n          const { posts } = data;\r\n          setPosts(apiPosts.concat(posts));\r\n        });\r\n      });\r\n    setIsLoading(false);\r\n    if (currentUser) getSearches(currentUser.email);\r\n  }, []);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"posts-container\">\r\n        {posts.map((item) => (\r\n          <Post key={item.id || item._id} item={item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.posts.posts,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setPosts: (posts) => dispatch(actions.setPosts(posts)),\r\n    getSearches: async (email) => {\r\n      try {\r\n        const { data } = await getSearches(email);\r\n        dispatch(actions.setSearches(data.searches));\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport Post from \"../components/Post\";\r\n\r\nimport actions from \"../actions\";\r\nimport { getSearches } from \"../api\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nconst Searches = ({ searches, getSearches }) => {\r\n  const { currentUser } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (currentUser) getSearches(currentUser.email);\r\n  }, []);\r\n  \r\n  if (searches.length === 0) {\r\n    return (\r\n      <div>\r\n        <h1 className=\"header\">You don't have any saved posts</h1>;\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div>\r\n      <h1 className=\"header\">Saved Posts</h1>\r\n      <div className=\"posts-container\">\r\n        {searches.map((item) => (\r\n          <Post key={item.id || item._id} item={item} isSearch={true} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    searches: state.searches.posts,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setPosts: (posts) => dispatch(actions.setPosts(posts)),\r\n    getSearches: async (email) => {\r\n      try {\r\n        const { data } = await getSearches(email);\r\n        dispatch(actions.setSearches(data.searches));\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Searches);\r\n","import React from \"react\";\r\nimport { FiEdit3 } from \"react-icons/fi\";\r\nimport { BsTrash } from \"react-icons/bs\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { deletePost } from \"../api\";\r\nimport actions from \"../actions\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nconst UserPost = ({ item, deleteUserPost, posts, setPost }) => {\r\n  const { currentUser } = useAuth();\r\n\r\n  const handleEdit = () => {\r\n    setPost(item);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      deleteUserPost(item._id);\r\n      if (currentUser) await deletePost(currentUser.email, item._id);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card post\">\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{item.title}</h5>\r\n        <p className=\"card-text card-body\">{item.body}</p>\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col s-3\">\r\n              <FiEdit3 className=\"edit-icon\" onClick={handleEdit} />\r\n            </div>\r\n            <div className=\"col s-3\">\r\n              <BsTrash className=\"trash-icon\" onClick={handleDelete} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.userPosts.posts,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    deleteUserPost: (id) => dispatch(actions.deleteUserPost(id)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPost);\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport actions from \"../actions\";\r\nimport { post, updatePost } from \"../api\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nimport Alert from \"./Alert\";\r\n\r\nconst PostForm = ({ saveUserPost, userPost, setPost, updateUserPost }) => {\r\n  const titleRef = useRef(null);\r\n  const bodyRef = useRef(null);\r\n\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const { currentUser } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (userPost) {\r\n      titleRef.current.value = userPost.title;\r\n      bodyRef.current.value = userPost.body;\r\n    }\r\n  }, [userPost]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const title = titleRef.current.value;\r\n    const body = bodyRef.current.value;\r\n\r\n    if (!title || !body) {\r\n      setError(\"You must fill both fields\");\r\n    } else {\r\n      setError(\"\");\r\n      titleRef.current.value = \"\";\r\n      bodyRef.current.value = \"\";\r\n\r\n      const formData = {\r\n        title,\r\n        body,\r\n      };\r\n      \r\n      if (currentUser && currentUser) {\r\n        try {\r\n          if (userPost) {\r\n            updateUserPost({ id: userPost._id, post: formData });\r\n            await updatePost(currentUser.email, userPost._id, formData);\r\n            setPost(null);\r\n          } else {\r\n            const { data } = await post(currentUser.email, formData);\r\n            const { newPost } = data;\r\n            saveUserPost(newPost);\r\n          }\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"add-post-form\" onSubmit={handleSubmit}>\r\n        <h2 className=\"center theme-color-h\">\r\n          {userPost ? \"Edit\" : \"Add\"} a post\r\n        </h2>\r\n        {error && <Alert message={error} />}\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Title\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"exampleInputEmail1\"\r\n            aria-describedby=\"emailHelp\"\r\n            ref={titleRef}\r\n          />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Body\r\n          </label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            id=\"floatingTextarea2\"\r\n            style={{ height: \"100px\" }}\r\n            ref={bodyRef}\r\n          ></textarea>\r\n        </div>\r\n        <button className=\"btn theme-color-btn\">\r\n          {userPost ? \"Edit\" : \"Add\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    saveUserPost: (post) => dispatch(actions.saveUserPost(post)),\r\n    updateUserPost: ({ id, post }) =>\r\n      dispatch(actions.updateUserPost({ id, post })),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(PostForm);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport UserPost from \"./UserPost\";\r\nimport PostForm from \"./PostForm\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nimport { getPosts } from \"../api\";\r\nimport actions from \"../actions\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nconst UserPosts = ({ userPosts, setUserPosts }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [post, setPost] = useState(null);\r\n\r\n  const { currentUser } = useAuth();\r\n\r\n  const setPosts = async () => {\r\n    try {\r\n      if (currentUser) {\r\n        const { data } = await getPosts(currentUser.email);\r\n        const { posts } = data;\r\n        setUserPosts(posts);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setPosts();\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-5 sm-12\">\r\n            <PostForm userPost={post} setPost={setPost} />\r\n          </div>\r\n          <div className=\"col-md-7 sm-12\">\r\n            {userPosts.length === 0 && (\r\n              <h1 className=\"header\">You don't have posts</h1>\r\n            )}\r\n            <div className=\"posts-container\">\r\n              {userPosts.map((item) => (\r\n                <UserPost key={item._id} item={item} setPost={setPost} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userPosts: state.userPosts.posts,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setUserPosts: (posts) => dispatch(actions.setUserPosts(posts)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPosts);\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { VscSignOut } from \"react-icons/vsc\";\r\n\r\nimport actions from \"../actions\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\n\r\nimport Alert from \"./Alert\";\r\n\r\nconst Navbar = ({ signout }) => {\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const { currentUser, fb_logout } = useAuth();\r\n\r\n  const history = useHistory();\r\n\r\n  async function handleLogout() {\r\n    setError(\"\");\r\n\r\n    try {\r\n      await fb_logout();\r\n      signout();\r\n      history.push(\"/login\");\r\n    } catch {\r\n      setError(\"Failed to log out\");\r\n    }\r\n  }\r\n\r\n  if (!currentUser) return false;\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div className=\"container-fluid\">\r\n        <i>\r\n          <b>\r\n            <Link\r\n              className=\"navbar-brand\"\r\n              style={{ color: \"rgb(132, 11, 156)\" }}\r\n              to=\"/home\"\r\n            >\r\n              Posts\r\n            </Link>\r\n          </b>\r\n        </i>\r\n        <button\r\n          className=\"navbar-toggler\"\r\n          type=\"button\"\r\n          data-bs-toggle=\"collapse\"\r\n          data-bs-target=\"#navbarNavAltMarkup\"\r\n          aria-controls=\"navbarNavAltMarkup\"\r\n          aria-expanded=\"false\"\r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n          <div className=\"navbar-nav\">\r\n            <Link\r\n              className=\"nav-link active linke\"\r\n              aria-current=\"page\"\r\n              to=\"/home\"\r\n            >\r\n              Home\r\n            </Link>\r\n            <Link className=\"nav-link\" to=\"/searches\">\r\n              Searches\r\n            </Link>\r\n            <Link className=\"nav-link\" to=\"/userPosts\">\r\n              My Posts\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        {error && <Alert message={error} />}\r\n      </div>\r\n      <button className=\"btn log-out-btn\" onClick={handleLogout}>\r\n        <VscSignOut />\r\n      </button>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    signout: () => dispatch(actions.logout()),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Navbar);\r\n","import React from \"react\";\r\nimport { CgArrowUpO } from \"react-icons/cg\";\r\n\r\nconst UpBtn = () => {\r\n  let $ = require(\"jquery\");\r\n  window.addEventListener(\r\n    \"scroll\",\r\n    function () {\r\n      if (window.pageYOffset > 600) {\r\n        $(\".scroll-up\").show(\"slow\");\r\n      } else if (window.pageYOffset < 500) {\r\n        $(\".scroll-up\").hide(\"slow\");\r\n      }\r\n    },\r\n    false\r\n  );\r\n\r\n  const scrollTop = () => {\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  };\r\n  return (\r\n    <>\r\n      <CgArrowUpO className=\"scroll-up\" onClick={scrollTop} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UpBtn;\r\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport Signup from \"./components/Signup\";\nimport Login from \"./components/Login\";\nimport Home from \"./components/Home\";\nimport Searches from \"./components/Searches\";\nimport UserPosts from \"./components/UserPosts\";\nimport Navbar from \"./components/Navbar\";\nimport UpBtn from \"./components/UpBtn\";\n\nimport { AuthProvider } from \"./contexts/AuthContext\";\n\nfunction App() {\n  return (\n    <Router>\n      <AuthProvider>\n        <div className=\"App\">\n          <Navbar />\n          <Switch>\n            <Route exact path=\"/\" component={Signup} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/home\" component={Home} />\n            <Route exact path=\"/searches\" component={Searches} />\n            <Route exact path=\"/userPosts\" component={UserPosts} />\n          </Switch>\n          <UpBtn />\n        </div>\n      </AuthProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","function convertActionNameToLowerCase(actionName) {\r\n  return actionName.toLowerCase().replace(/_(\\w)/g, (v) => v[1].toUpperCase());\r\n}\r\n\r\nexport default function reducersHandlers(state, action, handlers) {\r\n  let key = convertActionNameToLowerCase(action.type);\r\n  let handler = handlers[key];\r\n  if (handler) handler(state, action);\r\n}\r\n","import produce from \"immer\";\r\nimport handler from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n  authData: null,\r\n  user: JSON.parse(localStorage.getItem(\"profile\")),\r\n};\r\n\r\nconst auth = {\r\n  auth(state, action) {\r\n    localStorage.setItem(\"profile\", JSON.stringify(action?.payload));\r\n    state.authData = action?.data;\r\n  },\r\n  logout(state, action) {\r\n    localStorage.clear();\r\n    state.authData = null;\r\n    state.user = null;\r\n  },\r\n};\r\n\r\nconst reducer = produce((state, action) => {\r\n  handler(state, action, auth);\r\n}, initialState);\r\n\r\nexport default reducer;\r\n","import produce from \"immer\";\r\nimport handler from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n  posts: [],\r\n};\r\n\r\nconst posts = {\r\n  setPosts(state, action) {\r\n    state.posts = action.payload;\r\n  },\r\n};\r\n\r\nconst reducer = produce((state, action) => {\r\n  handler(state, action, posts);\r\n}, initialState);\r\n\r\nexport default reducer;\r\n","import produce from \"immer\";\r\nimport handler from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n  posts: [],\r\n};\r\n\r\nconst posts = {\r\n  setSearches(state, action) {\r\n    state.posts = action.payload;\r\n  },\r\n  savePost(state, action) {\r\n    state.posts.push(action.payload);\r\n  },\r\n};\r\n\r\nconst reducer = produce((state, action) => {\r\n  handler(state, action, posts);\r\n}, initialState);\r\n\r\nexport default reducer;\r\n","import produce from \"immer\";\r\nimport handler from \"./reducerUtils\";\r\n\r\nconst initialState = {\r\n  posts: [],\r\n};\r\n\r\nconst posts = {\r\n  setUserPosts(state, action) {\r\n    state.posts = action.payload;\r\n  },\r\n  saveUserPost(state, action) {\r\n    state.posts.push(action.payload);\r\n  },\r\n  updateUserPost(state, action) {\r\n    const {id, post} = action.payload;\r\n    state.posts.map((item) => {\r\n      if (id === item._id) {\r\n        item.title = post.title;\r\n        item.body = post.body;\r\n      }\r\n      return item;\r\n    });\r\n  },\r\n  deleteUserPost(state, action) {\r\n    state.posts = state.posts.filter((item) => item._id !== action.payload);\r\n  },\r\n};\r\n\r\nconst reducer = produce((state, action) => {\r\n  handler(state, action, posts);\r\n}, initialState);\r\n\r\nexport default reducer;\r\n","import { createStore, combineReducers } from \"redux\";\r\n\r\nimport auth from \"../reducers/auth\";\r\nimport posts from \"../reducers/posts\";\r\nimport searches from \"../reducers/searches\";\r\nimport userPosts from \"../reducers/userPosts\";\r\n\r\nconst reducer = combineReducers({ auth, posts, searches, userPosts });\r\n\r\nconst store = createStore(reducer);\r\nwindow.store = store;\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./App.css\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}